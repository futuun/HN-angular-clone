var Futuun=webpackJsonpFutuun([0],[function(e,t,i){i(1),i(2),i(4),i(5),i(7);var n,s=i(9),a=i(10),o=i(11),r=i(15),u=i(18),c=i(22),l=i(25),d=i(26),m=i(27),f=i(28),p=i(34),g=i(37),v=i(39);!function(e){"use strict";angular.module("hacker-news",["ui.router","firebase",f["default"],p["default"],g["default"],v["default"]]).config(["$urlRouterProvider","$stateProvider",s["default"]]).factory("HackerNewsAPI",["$firebaseArray","$firebaseObject",a["default"]]).directive("navigation",o["default"]).directive("home",r["default"]).directive("user",u["default"]).directive("discussion",c["default"]).filter("domain",l["default"]).filter("commentsNumber",d["default"]).filter("trustHtml",["$sce",m["default"]])}(n||(n={})),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},,,,,,,function(e,t){},,function(e,t){function i(e,t){e.otherwise("/"),t.state("home",{url:"/{view:|ask|job|show|best}",template:"<home></home>"}).state("user",{url:"/user/:userID",template:"<user></user>"}).state("discussion",{url:"/discussion/{discussionID:int}",template:"<discussion></discussion>"})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){function i(e,t){var i=new Firebase("https://hacker-news.firebaseio.com/v0/");return{fetchHot:function(){return e(i.child("topstories/"))},fetchBest:function(){return e(i.child("beststories/"))},fetchMaxitem:function(){return t(i.child("maxitem/"))},fetchAsk:function(){return e(i.child("askstories/"))},fetchShow:function(){return e(i.child("showstories/"))},fetchJob:function(){return e(i.child("jobstories/"))},fetchItem:function(e){return t(i.child("item/"+e))},fetchUser:function(e){return t(i.child("user/"+e))}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,i){function n(){return{scope:{},templateUrl:a,controller:["$scope","$stateParams",s["default"]]}}var s=i(12),a=i(13);i(14),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){function i(e,t){e.view=t.view,e.$on("$locationChangeSuccess",function(i){e.view=t.view})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){var i="directives/navigation/navigation.html",n="<nav role=navigation class=main-nav><ul><li><a ui-sref=\"home({view: ''})\" ng-class=\"{active: view == ''}\">Hot</a></li><li><a ui-sref=\"home({view: 'ask'})\" ng-class=\"{active: view == 'ask'}\">Ask HN</a></li><li><a ui-sref=\"home({view: 'show'})\" ng-class=\"{active: view == 'show'}\">Show HN</a></li><li><a ui-sref=\"home({view: 'job'})\" ng-class=\"{active: view == 'job'}\">Jobs</a></li><li><a ui-sref=\"home({view: 'best'})\" ng-class=\"{active: view == 'best'}\">Best</a></li></ul></nav>";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},7,function(e,t,i){function n(){return{scope:{},templateUrl:a,controller:["$scope","$stateParams","HackerNewsAPI",s["default"]]}}var s=i(16),a=i(17);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){function i(e,t,i){function n(){switch(t.view){case"":return i.fetchHot();case"ask":return i.fetchAsk();case"best":return i.fetchBest();case"job":return i.fetchJob();case"show":return i.fetchShow()}}e.pageSize=20,e.items=n();var s=e.items.$watch(function(t){e.items.sort(function(e,t){return+e.$id-t.$id})});e.$parent.$on("$destroy",function(){e.item&&e.item.$destroy(),s&&s(),e.$destroy()})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){var i="directives/home/home.html",n='<spinner ng-if="items.length < 1"></spinner><div ng-repeat="item in items | page:currentPage:pageSize" item item-id=item.$value></div><pagination page=currentPage page-size=pageSize total-items=items.length></pagination>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},function(e,t,i){function n(){return{scope:{},templateUrl:a,controller:["$scope","$stateParams","HackerNewsAPI",s["default"]]}}var s=i(19),a=i(20);i(21),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){function i(e,t,i){e.userID=t.userID,e.pageSize=20,e.showSubmissions=!1,e.toggleSubmissions=function(){e.showSubmissions=!e.showSubmissions},i.fetchUser(t.userID).$bindTo(e,"user")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){var i="directives/user/user.html",n="<spinner ng-if=!user></spinner><div class=user-detail ng-if=user><header class=user__top><div class=karma>karma<span>{{user.karma}}</span> points</div><h1>{{user.id}}</h1></header><section class=bio><p ng-if=user.delay>delay {{user.delay}} minutes</p><p>member since {{user.created*1000 | date:'d MMMM yyyy, HH:mm:ss'}}</p><section ng-if=user.about ng-bind-html=\"user.about |trustHtml\"></section></section><span class=submissions-btn ng-click=toggleSubmissions()>{{showSubmissions ? 'hide' : 'show'}} submissions</span></div><div ng-if=showSubmissions><div ng-repeat=\"submission in user.submitted | page:currentPage:pageSize\" item item-id=submission load-children=false></div><pagination page=currentPage page-size=pageSize total-items=user.submitted.length></pagination></div>";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},7,function(e,t,i){function n(){return{scope:{},templateUrl:a,controller:["$scope","$stateParams","HackerNewsAPI",s["default"]]}}var s=i(23),a=i(24);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){function i(e,t,i){e.discussionID=t.discussionID,e.discussion=i.fetchItem(t.discussionID),e.$parent.$on("$destroy",function(){e.discussion&&e.discussion.$destroy()})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){var i="directives/discussion/discussion.html",n='<div class=discussion><div item item-id=discussionID top-level=true></div><div ng-repeat="post in discussion.kids" item item-id=post></div></div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},function(e,t){function i(){return function(e){return e?e.split("/")[2].replace("www.",""):""}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){function i(){return function(e){switch(e){case 0:return"discuss";case 1:return"1 comment";case void 0:return"DEAD!!!1";default:return e+" comments"}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){function i(e){return function(t){return e.trustAsHtml(t)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,i){i(2);var n=i(29),s=i(32);i(33);var a="pagination";angular.module(a,[]).directive("pagination",n["default"]).filter("page",s["default"]),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t,i){function n(){return{scope:{page:"=",pageSize:"=",totalItems:"="},restrict:"E",templateUrl:a,controller:["$scope",s["default"]]}}var s=i(30),a=i(31);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){function i(e){e.page=e.page||0,e.show={},e.prevPage=function(){e.page=Math.max(e.page-1,0)},e.nextPage=function(){e.page=Math.min(e.page+1,e.totalPages-1)},e.$watchGroup(["page","totalItems"],function(){e.currentPage=e.page+1,e.totalPages=Math.ceil(e.totalItems/e.pageSize),e.show.prevPage=0!==e.page,e.show.nextPage=e.pageSize*(e.page+1)<e.totalItems})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){var i="components/pagination/pagination.html",n="<div class=pagination ng-if=totalPages><button ng-click=prevPage() class=pg-btn ng-class=\"show.prevPage ? 'left' : 'left--disable'\"><i></i><i></i></button><div class=counter>{{currentPage}} / {{totalPages}}</div><button ng-click=nextPage() class=pg-btn ng-class=\"show.nextPage ? 'right' : 'right--disable'\"><i></i><i></i></button></div>";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},function(e,t){function i(){return function(e,t,i){if(e){var n=Math.max(t*i,0);return e.slice(n,n+i)}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},7,function(e,t,i){i(2);var n=i(35),s=i(36),a="time-ago";angular.module(a,[]).filter("fromNow",s["default"]).directive("timeAgo",["$timeout","$interval","fromNowFilter",n["default"]]),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t){function i(e,t,i){return function(n,s,a){function o(){s.text()!=i(a.timeAgo)&&s.text(i(a.timeAgo))}function r(){c=t(function(){o()},l)}var u=null,c=null,l=6e4;a.$observe("timeAgo",function(t){o(),u=e(function(){o(),r()},6e4-(new Date).getTime()%6e4)}),s.bind("click",function(){s.text(new Date(1e3*a.timeAgo).toUTCString()),e(function(){o()},5e3)}),s.bind("$destroy",function(){u&&e.cancel(u),c&&t.cancel(c)})}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){function i(){return function(e){if(!e)return"";var t=Math.round((new Date).getTime()/1e3)-e,i={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(var n in i)if(t>i[n]){var s=Math.floor(t/i[n]);return s+" "+n+(s>1?"s ago":" ago")}return"just now"}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,i){i(2),i(38);var n="spinner";angular.module(n,[]).directive("spinner",function(){return{scope:{},restrict:"E",template:'<div class="spinner"><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div></div> '}}),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},7,function(e,t,i){i(2),i(40);var n=i(41),s=i(44),a=i(45),o=i(46),r=i(47),u=i(48),c="item";angular.module(c,[]).run(["$templateCache",function(e){e.put("comment",s),e.put("job",a),e.put("poll",o),e.put("pollopt",r),e.put("story",u)}]).directive("item",n["default"]),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=c},7,function(e,t,i){function n(){return{scope:{itemId:"=",loadChildren:"@?",topLevel:"@?"},templateUrl:a,controller:["$scope","$element","$attrs","$sce","HackerNewsAPI",s["default"]]}}var s=i(42),a=i(43);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){function i(e,t,i,n,s){e.loadChildren=!0,e.hideItem=!1,e.expandItem=!1,e.toggle={hide:function(){e.hideItem=!e.hideItem},expand:function(){e.expandItem=!e.expandItem}};var a=e.$watch("itemId",function(){e.item&&e.item.$destroy(),e.item=s.fetchItem(e.itemId)});t.on("$destroy",function(){e.item&&e.item.$destroy(),a&&a(),e.$destroy()}),i.$observe("loadChildren",function(t){e.loadChildren="false"!==t}),i.$observe("topLevel",function(t){"true"===t&&(e.loadChildren=!1,e.expandItem=!0)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){var i="components/item/item.html",n='<spinner ng-if=!item.type></spinner><div class={{item.type}} ng-if="item && !item.deleted" ng-include=item.type></div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(i,n)}]),e.exports=i},function(e,t){e.exports='<header class=comment__top><span class=expand ng-click=toggle.hide() ng-if=!topLevel>{{hideItem ? \'+\' : \'-\'}}</span> <a ui-sref="user({userID: item.by})" class=url>{{item.by}}</a> <span time-ago={{item.time}} class=time></span> <a ng-if=!topLevel class=url ui-sref="discussion({discussionID: item.id})">link</a> <a ng-if=topLevel class=url ui-sref="discussion({discussionID: item.parent})">parent</a></header><p ng-if=item.changed>changed</p><section class=comment__content ng-hide="!item || hideItem" ng-bind-html="item.text | trustHtml"></section><div ng-if=loadChildren ng-hide=hideItem ng-repeat="kid in item.kids" item item-id=kid></div>'},function(e,t){e.exports='<header><a class=title ng-href={{item.url}}>{{item.title}}</a> <span class=domain ng-show=item.url>({{item.url | domain}})</span></header><section class=section__bottom>by <a ui-sref="user({userID: item.by})" class=url>{{item.by}}</a> | <span time-ago={{item.time}} class=time></span> <span ng-if=item.text ng-click=toggle.expand() class=expand>| expand</span></section><article class=content ng-show="expandItem && item.text" ng-bind-html="item.text | trustHtml"></article>'},function(e,t){e.exports='<div class=wrapper><div class=score>{{item.score}}</div><section><a class=title ui-sref="discussion({discussionID: item.id})">{{item.title}}</a> <span class=domain ng-show=item.url>({{item.url | domain}})</span><section class=section__bottom>by <a ui-sref="user({userID: item.by})" class=url>{{item.by}}</a> | <span time-ago={{item.time}} class=time></span> | <a ui-sref="discussion({discussionID: item.id})" class=url>{{item.descendants | commentsNumber}}</a> <span ng-if="item.text && !topLevel" ng-click=toggle.expand() class=expand>| expand</span></section></section></div><article class=content ng-show="expandItem && item.text" ng-bind-html="item.text | trustHtml"></article><div class=options ng-if="item.parts && expandItem" ng-hide=hideItem><item ng-repeat="kid in item.parts" item-id=kid></item></div>'},function(e,t){e.exports="<div class=pollopt-score>{{item.score}}</div><span>{{item.text}}</span>"},function(e,t){e.exports='<div class=wrapper><div class=score>{{item.score}}</div><section><header ng-if=item.url class=story__top><a class=title ng-href={{item.url}}>{{item.title}}</a> <span ng-hide=!item.url class=domain>({{item.url | domain}})</span></header><a ng-if=!item.url class=title ui-sref="discussion({discussionID: item.id})">{{item.title}}</a><section class=section__bottom>by <a ui-sref="user({userID: item.by})" class=url>{{item.by}}</a> | <span time-ago={{item.time}} class=time></span> | <a ui-sref="discussion({discussionID: item.id})" class=url>{{item.descendants | commentsNumber}}</a> <span ng-if="item.text && !topLevel" ng-click=toggle.expand() class=expand>| expand</span></section></section></div><article class=content ng-show="expandItem && item.text" ng-bind-html="item.text | trustHtml"></article>'}]);